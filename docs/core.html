<!DOCTYPE html>
<html lang="en">
    
    <head>
        <title>curve</title>
        <meta charset="utf-8"></meta>
        <style>
            html, body{
                margin:0px;
                width:100%; height:100%;
            }
        </style>
    </head>

    <body>
        <canvas id='coreGraphicsCanvas' coreGraphics coreGraphicsElementWidth='100%' coreGraphicsElementHeight='100%' style='display: block;'></canvas>
    </body>

</html>


<!-- <script type='text/javascript' src='js/core.js'></script> -->
<script type='text/javascript' src='js/core.min.js'></script>

<!-- detect demo request -->
<script>
    var demoNumber = parseInt((new URL(window.location.href)).searchParams.get("demo"));
    if( isNaN(demoNumber) ){ demoNumber = 0; }
</script>


<!-- "coreGraphics" written out 10 times, on a 1:1.5 page, which adjusts on window adjust -->
<script>
    (function() { if(demoNumber != 0){return;}
        var CC = document.getElementById('coreGraphicsCanvas');

        var texts = [];
        for(var a = 0; a < 10; a++){
            var text = CC.core.shape.create('characterString');
                text.name = 'mainHeading_'+a;
                text.printingMode({horizontal:'middle',vertical:'middle'});
                text.string('coreGraphics');

                CC.core.arrangement.append(text);
            texts.push(text);
        }
        function resize(){
            CC.setAttribute('coreGraphicsElementHeight',window.innerWidth * 1.5);
            CC.core.viewport.refresh();
            texts.forEach(function(a,i){
                a.y( (window.innerWidth/6)*i );
                a.font('Arial');
                a.scale(window.innerWidth/100);
                a.x(window.innerWidth/2);
            } );
            CC.core.render.frame();
        }
        window.onresize = resize;
        resize();

        setTimeout(resize,1000);
    })();
</script>

<!-- two rectangles, one within the other, on a 1:1.5 page, which adjusts on window adjust -->
<script>
    (function() { if(demoNumber != 1){return;}
        var CC = document.getElementById('coreGraphicsCanvas');

        var rectangle1 = CC.core.shape.create('rectangle');
            rectangle1.name = 'rectangle1';
            rectangle1.colour = {r:1,g:0,b:1,a:1};
            rectangle1.resize = function(){
                var w = window.document.documentElement.clientWidth;
                this.width(w);
                this.height(w*1.5);
            };
            CC.core.arrangement.append(rectangle1);

        var rectangle2 = CC.core.shape.create('rectangle');
            rectangle2.name = 'rectangle2';
            rectangle2.resize = function(){
                var w = window.document.documentElement.clientWidth;
                this.x(w*0.1);
                this.y(w*1.5*0.075);
                this.width(w - w*0.2);
                this.height(w*1.5 - w*1.5*0.15);
            };
            CC.core.arrangement.append(rectangle2);

        function resize(){
            var w = window.document.documentElement.clientWidth;
            CC.setAttribute('coreGraphicsElementWidth',w);
            CC.setAttribute('coreGraphicsElementHeight',w * 1.5);
            rectangle1.resize();
            rectangle2.resize();
            CC.core.viewport.refresh();
            CC.core.render.frame();
        }
        window.onresize = resize;
        resize();
        setTimeout(function(){resize();},1);
    })();
</script>

<!-- full background rectangle, with smaller spinning and colour changing forground square
    in the centre. On a 1:1 page, which adjusts on window adjust. Active render -->
<script>
    (function() { if(demoNumber != 2){return;}
        var CC = document.getElementById('coreGraphicsCanvas');
        CC.core.render.active(true);

        var backgroundRectangle = CC.core.shape.create('rectangle');
            backgroundRectangle.name = 'backgroundRectangle';
            backgroundRectangle.colour = {r:20/255,g:20/255,b:20/255,a:1};
            backgroundRectangle.resize = function(){
                this.width( window.document.documentElement.clientWidth );
                this.height( window.document.documentElement.clientHeight );
            };
            CC.core.arrangement.append(backgroundRectangle);

        var rectangle1 = CC.core.shape.create('rectangle');
            rectangle1.name = 'rectangle1';
            rectangle1.colour = {r:20/255,g:20/255,b:20/255,a:1};
            rectangle1.anchor({x:0.5,y:0.5});
            rectangle1.resize = function(){
                var w = window.document.documentElement.clientWidth;
                var h = window.document.documentElement.clientHeight;
                var s = w > h ? h : w;

                var div = 5;
                this.width(s/div);
                this.height(s/div);
                this.x(w/2);
                this.y(h/2);
            };
            CC.core.arrangement.append(rectangle1);
        

        function resize(){
            backgroundRectangle.resize();
            rectangle1.resize();
            CC.core.viewport.refresh();
        }
        window.onresize = resize;
        resize();



        var ang = 0;
        var destinationColour = {r:255/255,g:0/255,b:20/255,a:1};
        var destinationColourJourneyPercent = 0;
        var rate = 0.01;
        setInterval(function(){
            rectangle1.angle( ang+=0.0333 );
            destinationColourJourneyPercent = destinationColourJourneyPercent > 1-rate ? 1 : destinationColourJourneyPercent + rate;
            rectangle1.colour = CC.library.math.blendColours(rectangle1.colour,destinationColour,destinationColourJourneyPercent);
        },1000/40);

        setInterval(function(){
            destinationColour = {r:Math.random(),g:Math.random(),b:Math.random(),a:1};
            destinationColourJourneyPercent = 0;
        },1500);
    })();
</script>

<!-- wavey colourful rectangles. On a 1:1 page. Active render -->
<script>
    (function() { if(demoNumber != 3){return;}
        var CC = document.getElementById('coreGraphicsCanvas');

        //upper band
            var x = 200 + CC.core.render.getCanvasDimensions().width/2;
                var y = -175 + CC.core.render.getCanvasDimensions().height/2;
                var rectangleGroup_1 = [];
                for(var a = 0; a < 16; a++){
                    var tmp = CC.core.shape.create('rectangle');
                    tmp.name = 'upperBand_rectangle_'+a;

                    tmp.x(x - a*30);
                    tmp.y(y);
                    tmp.width(30);
                    tmp.height(30);
                    tmp.colour = {r:Math.random(),g:Math.random(),b:Math.random(),a:1};
                    CC.core.arrangement.append(tmp);

                    rectangleGroup_1.push(tmp);
                }
                var tick_1 = 0;
                var tickStep_1 = 0.02*rectangleGroup_1.length;
                var waveLength_1 = 3;
                setInterval(function(){
                    for(var a = 0; a < rectangleGroup_1.length; a++){
                        rectangleGroup_1[a].width(30 + 25*Math.sin( Math.PI*( (tick_1+a*waveLength_1)/rectangleGroup_1.length ) ) );
                        rectangleGroup_1[a].height(30 + 25*Math.cos( Math.PI*( (tick_1+a*waveLength_1)/rectangleGroup_1.length ) ) );
                    }
                    tick_1+=tickStep_1;
                },1000/40);

            //middle band
                var x = 200 + CC.core.render.getCanvasDimensions().width/2 + 20/2;
                var y = -100 + CC.core.render.getCanvasDimensions().height/2;
                var rectangleGroup_2 = [];
                for(var a = 0; a < 16; a++){
                    var tmp = CC.core.shape.create('rectangle')
                    tmp.name = 'middleBand_rectangle_'+a;

                    tmp.x(x - a*30);
                    tmp.y(y);
                    tmp.width(30);
                    tmp.height(30);
                    tmp.colour = {r:Math.random(),g:Math.random(),b:Math.random(),a:1};
                    CC.core.arrangement.append(tmp);

                    rectangleGroup_2.push(tmp);
                }
                var tick_2 = 0;
                var tickStep_2 = 0.02*rectangleGroup_2.length;
                var waveLength_2 = 2;
                setInterval(function(){
                    for(var a = 0; a < rectangleGroup_2.length; a++){
                        rectangleGroup_2[a].y( -75 + 30 + 25*Math.sin( Math.PI*( (tick_2+a*waveLength_2)/rectangleGroup_2.length ) ) + CC.core.render.getCanvasDimensions().height/2 );
                        rectangleGroup_2[a].height( 30 + 25*Math.cos( Math.PI*( (tick_2+a*waveLength_2)/rectangleGroup_2.length ) ) );
                    }
                    tick_2+=tickStep_2;
                },1000/40);

            //lower band
                var x = 200 + CC.core.render.getCanvasDimensions().width/2;
                var y = 75 + CC.core.render.getCanvasDimensions().height/2;
                var rectangleGroup_3 = [];
                for(var a = 0; a < 16; a++){
                    var tmp = CC.core.shape.create('rectangle')
                    tmp.name = 'lowerBand_rectangle_'+a;

                    tmp.x(x - a*30);
                    tmp.y(y);
                    tmp.width(30);
                    tmp.height(30);
                    tmp.colour = {r:Math.random(),g:Math.random(),b:Math.random(),a:1};
                    CC.core.arrangement.append(tmp);

                    rectangleGroup_3.push(tmp);
                }
                var tick_3 = 0;
                var tickStep_3 = 0.02*rectangleGroup_3.length;
                var waveLength_3 = 1;
                setInterval(function(){
                    for(var a = 0; a < rectangleGroup_3.length; a++){
                        rectangleGroup_3[a].width( 30 + 25*Math.sin( Math.PI*( (tick_3+a*waveLength_3)/rectangleGroup_3.length ) ) );
                        rectangleGroup_3[a].y( y + 30 + 25*Math.cos( Math.PI*( (tick_3+a*waveLength_3)/rectangleGroup_3.length ) ) );
                    }
                    tick_3+=tickStep_3;
                },1000/40);

            //rendering controls
                CC.core.render.active(true);
    })();
</script>